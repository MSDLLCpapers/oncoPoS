<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to oncoPoS • oncoPoS</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Introduction to oncoPoS">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">oncoPoS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/oncoPoS.html">Get Started</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/MSDLLCPapers/oncoPoS">Source code</a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Introduction to oncoPoS</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/MSDLLCPapers/onsoPoS/blob/main/vignettes/oncoPoS.Rmd" class="external-link"><code>vignettes/oncoPoS.Rmd</code></a></small>
      <div class="d-none name"><code>oncoPoS.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p><code>oncoPoS</code> performs Probability of Success (PoS)
calculations for a phase 3 oncology study using a Bayesian Hierarchical
model. The prior in this model is based on the data observed in an
earlier study, design features for the phase 3 study that is being
assessed and the industry benchmark for success.</p>
<p>The Bayesian framework used in <code>oncoPoS</code> relies on the
work by <span class="citation">(Hampson et al. 2022)</span>. See <a href="pos_bayes_framework.html">PoS Bayesian Framework</a> vignette for
details.</p>
<p>The main functions of the <code>oncoPoS</code> are
<code>run_stan</code> and <code>gen_pos</code>, which generate the PoS
estimate and its standard error (SE) at each planned analysis by running
<code>rstan</code>. Note that the SE is</p>
<p>The PoS estimate could be generated without considering an observed
treatment effect in an earlier study,</p>
</div>
<div class="section level2">
<h2 id="pos-estimate-example">PoS estimate example<a class="anchor" aria-label="anchor" href="#pos-estimate-example"></a>
</h2>
<p>Let’s assume that we designed a phase 3 randomized oncology trial in
a certain disease setting with progression-free survival (PFS) as a
primary endpoint. The design features of this study are as follows:</p>
<ul>
<li>Target hazard ratio (HR): 0.70;</li>
<li>Group sequential design with two analysis;</li>
<li>Target number of events at each analysis: 370, 468;</li>
<li>Approximate HR bound at each analysis: 0.779, 0.8204.</li>
</ul>
<p>While the overall alpha level of 2.5% and power 95.5% could be seen
as design features in general, these are not considered as direct design
features for the PoS estimation and therefore are not inputs in
<code>oncoPoS</code> relevant functions.</p>
<p>To proceed with the PoS estimation, an industry benchmark is required
as well. We’ll assume that, without considering specific design features
of this trial, there is a 50% chance that such trial will be
successful.</p>
<div class="section level3">
<h3 id="no-earlier-study-data">No earlier study data<a class="anchor" aria-label="anchor" href="#no-earlier-study-data"></a>
</h3>
<p>If there is no specific earlier study that could be linked directly
to this phase 3 through an objective response rate (ORR) or PFS, the PoS
estimate at each analysis is calculated as following:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/MSDLLCPapers/onsoPoS" class="external-link">oncoPoS</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/gen_pos.html">gen_pos</a></span><span class="op">(</span></span>
<span>  target_hr <span class="op">=</span> <span class="fl">0.7</span>,</span>
<span>  J <span class="op">=</span> <span class="fl">2</span>,  </span>
<span>  nevents3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">370</span>, <span class="fl">468</span><span class="op">)</span>, </span>
<span>  hr_bound <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.779</span>, <span class="fl">0.8204</span><span class="op">)</span>,</span>
<span>  omega <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">245</span></span>
<span> <span class="op">)</span> </span></code></pre></div>
<pre><code><span><span class="co">## # A tibble: 2 × 3</span></span>
<span><span class="co">##       J   pos pos_se</span></span>
<span><span class="co">##   &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt;</span></span>
<span><span class="co">## 1     1 0.414 0.0110</span></span>
<span><span class="co">## 2     2 0.492 0.0112</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="prior-pfs-data">Prior PFS data<a class="anchor" aria-label="anchor" href="#prior-pfs-data"></a>
</h3>
<p>Let’s change the above scenario and assume that there was a
randomized phase 2 trial with observed PFS hazard ratio (HR) of 0.53 and
a 95% confidence interval (CI) of (0.31, 0.91). This phase 2 trial led
to the decision to continue the clinical development of the compound in
the specific disease setting and thus design a phase 3 trial. This
additional information is incorporated in the PoS estimates as
follows:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gen_pos.html">gen_pos</a></span><span class="op">(</span></span>
<span>  target_hr <span class="op">=</span> <span class="fl">0.7</span>,</span>
<span>  J <span class="op">=</span> <span class="fl">2</span>,  </span>
<span>  nevents3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">370</span>, <span class="fl">468</span><span class="op">)</span>, </span>
<span>  hr_bound <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.779</span>, <span class="fl">0.8204</span><span class="op">)</span>,</span>
<span>  omega <span class="op">=</span> <span class="fl">0.5</span>, </span>
<span>  use_pfs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  est_obs_pfs <span class="op">=</span> <span class="fl">0.53</span>, </span>
<span>  low_obs_pfs <span class="op">=</span> <span class="fl">0.31</span>, </span>
<span>  upp_obs_pfs <span class="op">=</span> <span class="fl">0.91</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">245</span></span>
<span> <span class="op">)</span> </span></code></pre></div>
<pre><code><span><span class="co">## # A tibble: 2 × 3</span></span>
<span><span class="co">##       J   pos  pos_se</span></span>
<span><span class="co">##   &lt;int&gt; &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">## 1     1 0.73  0.00993</span></span>
<span><span class="co">## 2     2 0.812 0.00874</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="prior-orr-data">Prior ORR data<a class="anchor" aria-label="anchor" href="#prior-orr-data"></a>
</h3>
<p>If an earlier study didn’t have a reliable PFS estimate and only ORR
was available, it can be used for PoS estimation as well. We will assume
that, based on the earlier study 33 out of 60 and 18 out of 63
participants in the experimental and control arms had responses
respectively.</p>
<p>In this case, when the ORR data is used, coefficients for the linear
relationship between the log treatment effect on ORR and PFS must be
specified:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gen_pos.html">gen_pos</a></span><span class="op">(</span></span>
<span>  target_hr <span class="op">=</span> <span class="fl">0.7</span>,</span>
<span>  J <span class="op">=</span> <span class="fl">2</span>,  </span>
<span>  nevents3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">370</span>, <span class="fl">468</span><span class="op">)</span>, </span>
<span>  hr_bound <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.779</span>, <span class="fl">0.8204</span><span class="op">)</span>,</span>
<span>  omega <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  use_orr <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  n_resp_trt2 <span class="op">=</span> <span class="fl">33</span>,</span>
<span>  n_trt2 <span class="op">=</span> <span class="fl">60</span>,</span>
<span>  n_resp_ctrl2 <span class="op">=</span> <span class="fl">18</span>, </span>
<span>  n_ctrl2 <span class="op">=</span> <span class="fl">63</span>,</span>
<span>  m_0 <span class="op">=</span> <span class="op">-</span><span class="fl">0.20</span>,</span>
<span>  m_1 <span class="op">=</span> <span class="fl">2.2</span>,</span>
<span>  nu_0 <span class="op">=</span> <span class="fl">0.0541</span>,</span>
<span>  nu_1 <span class="op">=</span> <span class="fl">0.2145</span>,</span>
<span>  lm_sd <span class="op">=</span> <span class="fl">5.1158</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">245</span></span>
<span> <span class="op">)</span> </span></code></pre></div>
<pre><code><span><span class="co">## # A tibble: 2 × 3</span></span>
<span><span class="co">##       J   pos pos_se</span></span>
<span><span class="co">##   &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt;</span></span>
<span><span class="co">## 1     1 0.572 0.0111</span></span>
<span><span class="co">## 2     2 0.656 0.0106</span></span></code></pre>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-hampson2022improving" class="csl-entry">
Hampson, Lisa V, Björn Bornkamp, Björn Holzhauer, Joseph Kahn, Markus R
Lange, Wen-Lin Luo, Giovanni Della Cioppa, Kelvin Stott, and Steffen
Ballerstedt. 2022. <span>“Improving the Assessment of the Probability of
Success in Late Stage Drug Development.”</span> <em>Pharmaceutical
Statistics</em> 21 (2): 439–59.
</div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Yulia Sidi, Xiang Peng, Alex Ziyu Jiang. Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0. <br>Copyright © 2026 Merck &amp; Co., Inc., Rahway, NJ, USA and its affiliates. All rights reserved.</p>
</div>

<div class="pkgdown-footer-right">
  <p><span></span></p>
</div>

    </footer>
</div>





  </body>
</html>
